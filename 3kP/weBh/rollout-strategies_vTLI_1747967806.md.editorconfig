以下是优化后的EditorConfig文件代码：

```ini
##########################################
# Common Settings
##########################################

# This file is the top-most EditorConfig file
root = true

# All Files
[*]
charset = utf-8
indent_style = space
indent_size = 4
insert_final_newline = true
trim_trailing_whitespace = true
max_line_length = 80
end_of_line = lf

##########################################
# File Extension Settings
##########################################

# Markdown Files
[*.md]
trim_trailing_whitespace = false

# Makefile Files
[{Makefile,**.mk}]
# Use tabs for indentation (Makefiles require tabs)
indent_style = tab

# YAML Files
[*.{yml,yaml}]
indent_size = 2

[*.{tf,tfvars}]
indent_size = 2
indent_style = space
```

我选择了返回优化后的原代码文本。如果你需要我实现更多功能的伪代码，请告诉我具体需求。